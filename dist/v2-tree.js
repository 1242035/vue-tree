!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VTree",[],t):"object"==typeof exports?exports.VTree=t():e.VTree=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t){e.exports=function(e,t,r,n,a,i){var o,c=e=e||{},d=typeof e.default;"object"!==d&&"function"!==d||(o=e,c=e.default);var s="function"==typeof c?c.options:c;t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns,s._compiled=!0),r&&(s.functional=!0),a&&(s._scopeId=a);var l;if(i?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},s._ssrRegister=l):n&&(l=n),l){var u=s.functional,f=u?s.render:s.beforeCreate;u?(s._injectStyles=l,s.render=function(e,t){return l.call(t),f(e,t)}):s.beforeCreate=f?[].concat(f,l):[l]}return{esModule:o,exports:c,options:s}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2);n.a.install=function(e){e.component("VTree",n.a)},t.default=n.a},function(e,t,r){"use strict";function n(e){r(3)}var a=r(4),i=r(11),o=r(0),c=n,d=o(a.a,i.a,!1,c,"data-v-5e3082c7",null);t.a=d.exports},function(e,t){},function(e,t,r){"use strict";var n=r(5),a=r(6),i=r(7),o=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.a={name:"Tree",mixins:[n.a],props:{data:{type:Array,default:function(){return[]}},parent:{type:Object,default:function(){return null}},multiple:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},dragAfterExpanded:{type:Boolean,default:!0},halfcheck:{type:Boolean,default:!1},scoped:{type:Boolean,default:!1},tpl:Function},components:{Render:a.a,Loading:i.a},watch:{data:function(){this.initHandle()}},mounted:function(){var e=this;this.$on("childChecked",function(t,r){if(t.children&&t.children.length){var n=!0,a=!1,i=void 0;try{for(var o,c=t.children[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var d=o.value;e.$set(d,"checked",r),e.$emit("nodeChecked",d,r)}}catch(e){a=!0,i=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw i}}}}),this.$on("parentChecked",function(t,r){if(e.$set(t,"checked",r),!t.parent)return!1;var n=t.parent.children.some(function(e){return e.checked}),a=t.parent.children.every(function(e){return e.checked});if(e.halfcheck){if(a?e.$set(t.parent,"halfcheck",!1):n?e.$set(t.parent,"halfcheck",!0):e.$set(t.parent,"halfcheck",!1),!r&&n)return e.$set(t.parent,"halfcheck",!0),!1;e.$emit("parentChecked",t.parent,r)}else r&&a&&e.$emit("parentChecked",t.parent,r),r||e.$emit("parentChecked",t.parent,r)}),this.$on("nodeChecked",function(t,r){e.scoped?e.$set(t,"checked",r):(e.$emit("parentChecked",t,r),e.$emit("childChecked",t,r))}),this.$on("toggleshow",function(t,r){e.$set(t,"visible",r),r&&t.parent&&e.$emit("toggleshow",t.parent,r)}),this.$on("cancelSelected",function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=e.$children[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value,c=!0,d=!1,s=void 0;try{for(var l,u=o.data[Symbol.iterator]();!(c=(l=u.next()).done);c=!0){var f=l.value;o.$set(f,"selected",!1)}}catch(e){d=!0,s=e}finally{try{!c&&u.return&&u.return()}finally{if(d)throw s}}o.$children&&o.$emit("cancelSelected",o)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}),this.initHandle()},methods:{drop:function(e,t){t.preventDefault(),t.stopPropagation();var r=t.dataTransfer.getData("guid"),n=this.getDragNode(r);if(n.parent===e||null===n.parent)return!1;if(this.hasInGenerations(n,e))return!1;var a=n.parent.children;e.children&&-1===e.children.indexOf(n)?(e.children.push(n),a.splice(a.indexOf(n),1)):(this.$set(e,"children",[n]),a.splice(a.indexOf(n),1)),this.$set(e,"expanded",this.dragAfterExpanded),this.$emit("drag-node-end",{dragNode:n,targetNode:e})},drag:function(e,t){var r=this.guid();this.setDragNode(r,e),t.dataTransfer.setData("guid",r)},dragover:function(e){e.preventDefault(),e.stopPropagation()},initHandle:function(){var e=!0,t=!1,r=void 0;try{for(var n,a=this.data[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var i=n.value;this.$set(i,"parent",this.parent)}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}},expandNode:function(e){this.$set(e,"expanded",!e.expanded),this.$emit("node-expanded",e)},nodeExpanded:function(e){this.$emit("node-expanded",e)},isLeaf:function(e){return!(e.children&&e.children.length)&&e.parent},addNode:function(e,t){this.$set(e,"expanded",!0);var r=null;if(void 0===t)throw new ReferenceError("newNode is required but undefined");if("string"==typeof t)r={title:t};else{if(t&&!t.hasOwnProperty("title"))throw new ReferenceError("the property (title) is missed");r=t}this.isLeaf(e)?(this.$set(e,"children",[]),e.children.push(r)):e.children.push(r),this.$emit("addNode",{parentNode:e,newNode:t})},addNodes:function(e,t){var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value;this.addNode(e,c)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}},nodeClick:function(e){this.$emit("node-click",e)},dragNodeEnd:function(e){this.$emit("drag-node-end",e)},delNode:function(e,t){if(null===e||void 0===e)throw new ReferenceError("the root element can't deleted!");e.children.splice(e.children.indexOf(t),1),this.$emit("delNode",{parentNode:e,delNode:t})},changeNodeCheckStatus:function(e,t){this.$emit("nodeChecked",e,t.target.checked)},nodeSelected:function(e){var t=function e(t){return"UL"===t.$parent.$el.nodeName?(t=t.$parent,e(t)):t}(this);if(!this.multiple){var r=!0,n=!1,a=void 0;try{for(var i,o=(t.data||[])[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value;this.$set(c,"selected",!1)}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}this.$emit("cancelSelected",t)}this.multiple&&this.$set(e,"checked",!e.selected),this.$set(e,"selected",!e.selected),this.$emit("node-click",e)},getNodes:function(e,t){t=t||this.data;var r=[],n=!0,a=!1,i=void 0;try{for(var c,d=t[Symbol.iterator]();!(n=(c=d.next()).done);n=!0){var s=c.value,l=!0,u=!0,f=!1,h=void 0;try{for(var p,v=Object.entries(e)[Symbol.iterator]();!(u=(p=v.next()).done);u=!0){var y=p.value,x=o(y,2),m=x[0],g=x[1];if(s[m]!==g){l=!1;break}}}catch(e){f=!0,h=e}finally{try{!u&&v.return&&v.return()}finally{if(f)throw h}}l&&r.push(s),s.children&&s.children.length&&(r=r.concat(this.getNodes(e,s.children)))}}catch(e){a=!0,i=e}finally{try{!n&&d.return&&d.return()}finally{if(a)throw i}}return r},getSelectedNodes:function(){return this.getNodes({selected:!0},this.data)},getCheckedNodes:function(){return this.getNodes({selected:!0},this.data)},searchNodes:function(e,t){t=t||this.data;var r=!0,n=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var c=i.value,d=!!e&&("function"==typeof e?e(c):c.title.indexOf(e)>-1);this.$set(c,"searched",d),this.$set(c,"visible",!1),this.$emit("toggleshow",c,!e||d),c.children&&c.children.length&&(d&&this.$set(c,"expanded",!0),this.searchNodes(e,c.children))}}catch(e){n=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}}}}},function(e,t,r){"use strict";function n(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function a(e,t){window.treeDrag={},window.treeDrag[e]=t}function i(e){return window.treeDrag[e]}function o(e,t){if(e.hasOwnProperty("children")&&e.children){var r=!0,n=!1,a=void 0;try{for(var i,c=e.children[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var d=i.value;if(d===t)return!0;if(d.children)return o(d,t)}}catch(e){n=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(n)throw a}}return!1}}t.a={methods:{guid:n,setDragNode:a,getDragNode:i,hasInGenerations:o}}},function(e,t,r){"use strict";t.a={name:"inlineMenu",functional:!0,props:{node:Object,tpl:Function},render:function(e,t){var r=t.props.node.selected?"node-title node-selected":"node-title";return t.props.node.searched&&(r+=" node-searched"),t.props.tpl?t.props.tpl(t.props.node,t):e("span",{attrs:{title:t.props.node.title},domProps:{innerHTML:t.props.node.title},class:r,on:{click:function(){return t.parent.nodeSelected(t.props.node)}}},[])}}},function(e,t,r){"use strict";function n(e){r(8)}var a=r(9),i=r(10),o=r(0),c=n,d=o(a.a,i.a,!1,c,"data-v-3f867612",null);t.a=d.exports},function(e,t){},function(e,t,r){"use strict";t.a={name:"tree-load-svg"}},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{viewBox:"0 0 120 120",version:"1.1"}},[r("g",{staticClass:"g-circles g-circles--v3",attrs:{id:"circle"}},[r("circle",{attrs:{id:"12",transform:"translate(35, 16.698730) rotate(-30) translate(-35, -16.698730) ",cx:"35",cy:"16.6987298",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"11",transform:"translate(16.698730, 35) rotate(-60) translate(-16.698730, -35) ",cx:"16.6987298",cy:"35",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"10",transform:"translate(10, 60) rotate(-90) translate(-10, -60) ",cx:"10",cy:"60",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"9",transform:"translate(16.698730, 85) rotate(-120) translate(-16.698730, -85) ",cx:"16.6987298",cy:"85",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"8",transform:"translate(35, 103.301270) rotate(-150) translate(-35, -103.301270) ",cx:"35",cy:"103.30127",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"7",cx:"60",cy:"110",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"6",transform:"translate(85, 103.301270) rotate(-30) translate(-85, -103.301270) ",cx:"85",cy:"103.30127",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"5",transform:"translate(103.301270, 85) rotate(-60) translate(-103.301270, -85) ",cx:"103.30127",cy:"85",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"4",transform:"translate(110, 60) rotate(-90) translate(-110, -60) ",cx:"110",cy:"60",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"3",transform:"translate(103.301270, 35) rotate(-120) translate(-103.301270, -35) ",cx:"103.30127",cy:"35",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"2",transform:"translate(85, 16.698730) rotate(-150) translate(-85, -16.698730) ",cx:"85",cy:"16.6987298",r:"10"}}),e._v(" "),r("circle",{attrs:{id:"1",cx:"60",cy:"10",r:"10"}})])])},a=[],i={render:n,staticRenderFns:a};t.a=i},function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",{staticClass:"halo-tree"},e._l(e.data,function(t,n){return r("li",{directives:[{name:"show",rawName:"v-show",value:!t.hasOwnProperty("visible")||t.visible,expression:"item.hasOwnProperty('visible') ? item.visible : true"}],key:t.title,class:{leaf:e.isLeaf(t),"first-node":!e.parent&&0===n,"only-node":!e.parent&&1===e.data.length},on:{drop:function(r){e.drop(t,r)},dragover:function(t){e.dragover(t)}}},[r("div",{staticClass:"tree-node-el",attrs:{draggable:e.draggable},on:{dragstart:function(r){e.drag(t,r)}}},[!t.parent||t.children&&t.children.length>0?r("span",{class:t.expanded?"tree-open":"tree-close",on:{click:function(r){e.expandNode(t)}}}):e._e(),e._v(" "),e.multiple&&!t.nocheck?r("span",{class:[t.checked?t.halfcheck?"box-halfchecked":"box-checked":"box-unchecked","inputCheck"]},[e.multiple?r("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"item.checked"}],class:["check",t.chkDisabled?"chkDisabled":""],attrs:{disabled:t.chkDisabled,type:"checkbox"},domProps:{checked:Array.isArray(t.checked)?e._i(t.checked,null)>-1:t.checked},on:{change:[function(r){var n=t.checked,a=r.target,i=!!a.checked;if(Array.isArray(n)){var o=e._i(n,null);a.checked?o<0&&(t.checked=n.concat([null])):o>-1&&(t.checked=n.slice(0,o).concat(n.slice(o+1)))}else e.$set(t,"checked",i)},function(r){e.changeNodeCheckStatus(t,r)}]}}):e._e()]):e._e(),e._v(" "),t.loading&&t.expanded?r("loading"):e._e(),e._v(" "),r("Render",{attrs:{node:t,tpl:e.tpl}}),e._v("\n            "+e._s(t.level)+"\n        ")],1),e._v(" "),r("transition",{attrs:{name:"fade"}},[e.isLeaf(t)?e._e():r("tree",{directives:[{name:"show",rawName:"v-show",value:t.expanded,expression:"item.expanded"}],attrs:{dragAfterExpanded:e.dragAfterExpanded,draggable:e.draggable,tpl:e.tpl,data:t.children,halfcheck:e.halfcheck,scoped:e.scoped,parent:t,multiple:e.multiple},on:{"~node-expanded":function(t){e.nodeExpanded(t)},"node-click":e.nodeClick,"drag-node-end":e.dragNodeEnd}})],1)],1)}))},a=[],i={render:n,staticRenderFns:a};t.a=i}])});
//# sourceMappingURL=v2-tree.js.map